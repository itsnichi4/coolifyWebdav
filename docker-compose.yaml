version: '3'

services:
  nginx:
    image: itsnichi4/webdav-nginx:latest 
    command:
      - sh
      - -uexc
      - |
        # Start SSHD in the background
        /usr/sbin/sshd;
        # Start NGINX in the foreground
        nginx -g 'daemon off;'

    volumes:
      - var-dav:/var/dav  # Only mount the /var/dav volume
    ports:
      - "4080:80"  # HTTP
      - "9023:22"  # SSH

volumes:
  var-dav:
    driver: local  # Using the default Docker volume driver
